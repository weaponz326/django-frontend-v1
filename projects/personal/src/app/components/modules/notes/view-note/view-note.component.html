<app-module-topnav [headings]="navHeading" [showPrint]="true" (print)="onPrint()"></app-module-topnav>

<div class="container">

    <div class="row">
        <div class="col-md-7">

            <div class="row mb-3 page-form">
                <div class="col-md-3"><label class="float-end">Subject :</label></div>
                <div class="col-md-7">
                    <smart-input #subjectInputReference class="w-100"></smart-input>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-12">
                    <smart-editor #bodyEditorReference id="editor" class="w-100" [toolbarItems]="toolbarItems"></smart-editor>
                </div>
            </div>

            <div class="row mb-3 page-form">
                <div class="col-md-12">
                    <smart-button #cancelButtonReference class="page-control-button float-end ms-1">Cancel</smart-button>
                    <smart-button #saveButtonReference class="page-control-button float-end ms-1" (click)="saveNote()">Save</smart-button>
                    <smart-button #deleteButtonReference class="page-control-button float-end ms-1" (click)="deleteNote()">Delete</smart-button>
                </div>
            </div>

        </div>

        <div class="offset-md-1 col-md-4">
            <div class="row mb-3">
                <div class="col-md-12">
                    <input #fileUploadReference type="file" requiredFileType="file" class="file-upload-element d-none" multiple (change)="onFileSelected($event) "/>
                    <smart-button #attachmentButtonReference (click)="fileUploadReference.click()">
                        Add Attachment
                        <i class="bi bi-paperclip ms-2"></i>
                    </smart-button>
                </div>
            </div>

            <div class="row mb-2 g-1">
                <div *ngFor="let file of fileNames; index as i" class="col-md-12 mb-1">
                    <div class="btn-group w-100" role="group">
                        <button class="btn btn-outline-secondary file-name-btn" (click)="downloadFile(file.id, i)">{{formatFileName(file.file)}}</button>
                        <button class="btn btn-outline-secondary btn-sm file-delete-btn" (click)="deleteFile(file.id, i)"><i class="bi bi-trash"></i></button>
                    </div>
                </div>
            </div>

        </div>
    </div>

</div>

<!-- connection error prompt component -->

<app-connection-prompt #connectionPromptComponentReference></app-connection-prompt>
